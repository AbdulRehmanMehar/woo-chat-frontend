<div class="container" style="margin-top: 40px">
  <h1>Register</h1>
  <form class="ui form" [formGroup]="registerForm" (ngSubmit)="handleRegistration()">
    <div class="field">
      <label>Name</label>
      <input type="text" placeholder="First Name" formControlName="name">
      <div *ngIf="registerForm.get('name').errors && (registerForm.get('name').dirty || registerForm.get('name').touched)" class="alert alert-danger">

        <div *ngIf="registerForm.get('name').errors.required">
          Name is required.
        </div>
        <div *ngIf="registerForm.get('name').errors.minlength">
          Name must be at least 3 characters long.
        </div>
        <div *ngIf="registerForm.get('name').errors.maxlength ">
          Name must be at most 15 characters long.
        </div>
      </div>
    </div>
    <div class="field">
      <label>Username</label>
      <input type="text" placeholder="Username" formControlName="username">
      <div *ngIf="registerForm.get('username').errors && (registerForm.get('username').dirty || registerForm.get('username').touched)"
        class="alert alert-danger">

        <div *ngIf="registerForm.get('username').errors.required">
          Username is required.
        </div>
        <div *ngIf="registerForm.get('username').errors.minlength">
          Username must be at least 3 characters long.
        </div>
        <div *ngIf="registerForm.get('username').errors.maxlength ">
          Username must be at most 15 characters long.
        </div>
      </div>
    </div>
    <div class="field">
      <label>Phone Number</label>
      <input type="number" placeholder="Phone Number" formControlName="phone">
      <div *ngIf="registerForm.get('phone').errors && (registerForm.get('phone').dirty || registerForm.get('phone').touched)"
        class="alert alert-danger">

        <div *ngIf="registerForm.get('phone').errors.required">
          Phone Number is required.
        </div>
        <div *ngIf="registerForm.get('phone').errors.minlength || registerForm.get('phone').errors.maxlength">
          Phone Number must be at least 12 characters long.
        </div>
      </div>
    </div>
    <div class="field">
      <label>Password</label>
      <input type="password" placeholder="Password" formControlName="password">
      <div *ngIf="registerForm.get('password').errors && (registerForm.get('password').dirty || registerForm.get('password').touched)"
        class="alert alert-danger">

        <div *ngIf="registerForm.get('password').errors.required">
          Password is required.
        </div>
        <div *ngIf="registerForm.get('password').errors.minlength || registerForm.get('password').errors.maxlength">
          Password must between 8 and 12 characters.
        </div>
      </div>
    </div>
    <div class="field">
      <label>Confirm Password</label>
      <input type="password" placeholder="Confirm Password" formControlName="passwordConfirmation">
      <div *ngIf=" (registerForm.get('passwordConfirmation').dirty || registerForm.get('passwordConfirmation').touched)"
        class="alert alert-danger">

        <div *ngIf="registerForm.get('passwordConfirmation').value !== registerForm.get('password').value">
          Passwords don't match.
        </div>
      </div>
    </div>
    <div class="field">
      <div class="alert alert-danger" *ngIf="(state$ | async).registerError">
        <p *ngFor="let error of (state$ |async).registerError">
          {{ error.msg }}
        </p>
      </div>
    </div>
    <button class="ui button" type="submit" [disabled]="!registerForm.valid">Submit</button>
  </form>

</div>
